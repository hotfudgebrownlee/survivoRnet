mutate(shortName = case_when(
!is.na(inspiration) ~ "NO",
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ "ye"
)) %>% filter(shortName == "ye")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "J.T. Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>% select(-c(inspFirst)) %>%
mutate(shortName = case_when(
!is.na(inspiration) ~ "NO",
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" ")))
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>% select(-c(inspFirst)) %>%
mutate(test = case_when(
!is.na(inspiration) ~ as.character(NA),
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" ")))
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(test = case_when(
!is.na(inspiration) ~ as.character(NA),
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" ")))
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" ")))
filter(fullName == "bob")
filter(fullName == "bob")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
# short_name == inspFirst ~ inspiration,
# short_name == "Shan" ~ str_c(short_name, last, sep=" "),
# str_detect(full_name, short_name) ~ full_name,
# TRUE ~ str_c(short_name, last, sep=" ")))
TRUE ~ "bob")) %>%
filter(fullName == "bob")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
# short_name == inspFirst ~ inspiration,
# short_name == "Shan" ~ str_c(short_name, last, sep=" "),
# str_detect(full_name, short_name) ~ full_name,
# TRUE ~ str_c(short_name, last, sep=" ")))
TRUE ~ "bob"))
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
# short_name == inspFirst ~ inspiration,
# short_name == "Shan" ~ str_c(short_name, last, sep=" "),
# str_detect(full_name, short_name) ~ full_name,
# TRUE ~ str_c(short_name, last, sep=" ")))
TRUE ~ "bob")) %>%
filter(fullName == "bob")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
# short_name == "Shan" ~ str_c(short_name, last, sep=" "),
# str_detect(full_name, short_name) ~ full_name,
# TRUE ~ str_c(short_name, last, sep=" ")))
TRUE ~ "bob")) %>%
filter(fullName == "bob")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" ")))
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
select(castaway_id, first, short_name, last, fullName) %>% unique() %>%
merge(castaway_details, by="castaway_id")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
select(castaway_id, first, short_name, last, fullName) %>% unique()
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
select(castaway_id, first, short_name, last, fullName) %>% unique() %>%
left_join((castaways %>% select(castaway_id, version_season)),
by="castaway_id")
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
rename(short_name == shortName)
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
rename(shortName == short_name)
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
rename(shortName = short_name)
select(version_season, castaway_id, first, short_name, last, fullName)
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
rename(shortName = short_name) %>%
left_join(castaways, by="castaway_id") %>% unique() %>%
select(version_season, castaway_id, first, short_name, last, fullName)
fullNames <- castaway_details %>%
merge((castaways %>% select(c(castaway_id, version_season))),
by="castaway_id") %>%
mutate(version_season = substr(version_season,3,4),
full_name = case_when(
castaway_id == "US0281" ~ "JT Thomas", TRUE ~ full_name)) %>%
filter(version_season > 20) %>%
separate(full_name, into = c('first','last'),
sep = " ", extra = "merge", remove = FALSE) %>%
mutate(name = case_when(
str_detect(full_name,short_name) ~ str_c(first, ' ', last),
TRUE ~ str_c(first, ' "', short_name, '" ', last))) %>%
select(castaway_id, full_name, first, short_name, last) %>%
left_join((selfCompare %>% select(c(inspiration, inspFirst, inspLast))),
by=c("last"="inspLast")) %>% unique() %>%
mutate(inspiration = case_when(
!is.na(inspiration) ~ inspiration,
str_detect(short_name, first) ~ full_name,
short_name == last ~ full_name,
castaway_id == "US0302" ~ full_name,
castaway_id == "US0305" ~ "Jimmy Tarantino",
TRUE ~ str_c(short_name, last, sep=" "))) %>%
mutate(fullName = case_when(
is.na(inspFirst) ~ inspiration,
full_name == inspiration ~ full_name,
short_name == inspFirst ~ inspiration,
short_name == "Shan" ~ str_c(short_name, last, sep=" "),
str_detect(full_name, short_name) ~ full_name,
TRUE ~ str_c(short_name, last, sep=" "))) %>%
rename(shortName = short_name) %>%
left_join(castaways, by="castaway_id") %>% unique() %>%
select(version_season, castaway_id, first, shortName, last, fullName)
